<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Moving Quote</title>

<style>
body { font-family: Arial; padding:20px; }
input, select, button { width:100%; padding:10px; margin:8px 0; }
#map { height:400px; margin-top:10px; }
.result { font-size:18px; font-weight:bold; margin-top:10px; }
.items label { display:block; }
</style>
</head>

<body>

<h2>Packers & Movers Booking</h2>

<input id="pickup" placeholder="Pickup location">
<input id="drop" placeholder="Drop location">

<h3>Select Vehicle</h3>
<select id="vehicle">
  <option value="25">Mini Truck - ₹25/km</option>
  <option value="35">Medium Truck - ₹35/km</option>
  <option value="45">Large Truck - ₹45/km</option>
</select>

<h3>Select Items</h3>
<div class="items">
<label><input type="checkbox" value="500"> Sofa</label>
<label><input type="checkbox" value="400"> Bed</label>
<label><input type="checkbox" value="300"> Washing Machine</label>
<label><input type="checkbox" value="300"> Refrigerator</label>
<label><input type="checkbox" value="200"> Table</label>
<label><input type="checkbox" value="100"> Chairs</label>
</div>

<button onclick="calculate()">Calculate Price</button>

<div class="result" id="result"></div>
<div id="map"></div>

<script>
let map, directionsService, directionsRenderer;

function initMap() {
  map = new google.maps.Map(document.getElementById("map"), {
    center: { lat: 12.9716, lng: 77.5946 },
    zoom: 10,
  });

  directionsService = new google.maps.DirectionsService();
  directionsRenderer = new google.maps.DirectionsRenderer();
  directionsRenderer.setMap(map);

  new google.maps.places.Autocomplete(document.getElementById("pickup"));
  new google.maps.places.Autocomplete(document.getElementById("drop"));
}

function calculate() {
  const pickup = document.getElementById("pickup").value;
  const drop = document.getElementById("drop").value;
  const rate = document.getElementById("vehicle").value;

  if (!pickup || !drop) {
    alert("Enter locations");
    return;
  }

  let itemCost = 0;
  document.querySelectorAll(".items input:checked")
    .forEach(el => itemCost += parseInt(el.value));

  const request = {
    origin: pickup,
    destination: drop,
    travelMode: "DRIVING",
  };

  directionsService.route(request, function(result, status) {
    if (status === "OK") {
      directionsRenderer.setDirections(result);

      const meters =
        result.routes[0].legs[0].distance.value;

      const km = meters / 1000;
      const travelCost = Math.round(km * rate);
      const total = travelCost + itemCost;

      document.getElementById("result").innerHTML =
        `Distance: ${km.toFixed(1)} km<br>
         Travel Cost: ₹${travelCost}<br>
         Item Handling: ₹${itemCost}<br>
         <strong>Total Estimate: ₹${total}</strong>`;
    } else {
      alert("Route not found");
    }
  });
}
</script>

<script async
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCdYIaoNUMxf0uWuHmWk_Nu2RcuYSsMuAY&libraries=places&callback=initMap">
</script>

</body>
</html>

