<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  <meta charset="UTF-8"/>
  <title>PackZen Packers & Movers Bangalore</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@600;700;800&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar">
  <div class="nav-inner">
    <div class="nav-logo"><span class="logo-icon">ğŸ“¦</span><span>Pack<span class="logo-accent">Zen</span></span></div>
    <div class="nav-links">
      <a href="#services">Services</a>
      <a href="#reviews">Reviews</a>
      <a href="#quote" class="nav-cta">Get Quote</a>
      <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()" title="Toggle theme">ğŸŒ™</button>
      <button class="nav-auth-btn" id="navLoginBtn" onclick="openAuthModal('login')">Login</button>
      <div class="nav-user" id="navUser" style="display:none;" onclick="toggleUserMenu()">
        <div class="nav-avatar" id="navAvatar">U</div>
        <span id="navUserName">User</span>
        <span class="nav-arrow">â–¾</span>
        <div class="user-dropdown" id="userDropdown">
          <a href="#" onclick="openDashboard()">ğŸ“‹ My Bookings</a>
          <a href="#" onclick="openTrackingModal()">ğŸ“ Track My Move</a>
          <a href="#" onclick="openChatModal()">ğŸ’¬ Chat with Driver</a>
          <a href="#" onclick="openChecklist()">âœ… Moving Checklist</a>
          <a href="#" onclick="openProfile()">ğŸ‘¤ Edit Profile</a>
          <a href="#" onclick="signOutUser()">ğŸšª Sign Out</a>
        </div>
      </div>
    </div>
  </div>
</nav>

<!-- HERO -->
<header class="hero">
  <div class="blob blob-1"></div><div class="blob blob-2"></div><div class="blob blob-3"></div>
  <div class="hero-content">
    <div class="hero-badge">ğŸ† Bangalore's #1 Trusted Movers</div>
    <h1 class="hero-title">Move Smarter,<br><span class="hero-accent">Move Safer</span></h1>
    <p class="hero-sub">Reliable, insured & affordable packing and moving services across Bangalore & beyond.</p>
    <div class="hero-actions">
      <a href="#quote" class="btn-primary">Get Instant Quote â†’</a>
      <a href="tel:9945095453" class="btn-ghost">ğŸ“ Call Now</a>
    </div>
    <div class="hero-trust">
      <span>âœ” Licensed</span><span>âœ” Insured</span><span>âœ” GPS Tracked</span><span>âœ” Zero Damage</span>
    </div>
  </div>
  <div class="hero-visual">
    <div class="float-card card-a"><span class="fc-icon">ğŸšš</span><div><div class="fc-title">Live Tracking</div><div class="fc-sub">Real-time updates</div></div></div>
    <div class="float-card card-b"><span class="fc-icon">â­</span><div><div class="fc-title">4.9 / 5 Rating</div><div class="fc-sub">1,200+ reviews</div></div></div>
    <div class="float-card card-c"><span class="fc-icon">ğŸ›¡ï¸</span><div><div class="fc-title">100% Insured</div><div class="fc-sub">Zero damage policy</div></div></div>
  </div>
</header>

<!-- STATS -->
<section class="stats-bar" id="statsStrip">
  <div class="stat-item"><div class="stat-top"><span class="stat-number" data-target="1200">0</span><span class="stat-suffix">+</span></div><span class="stat-label">Happy Customers</span></div>
  <div class="stat-divider"></div>
  <div class="stat-item"><div class="stat-top"><span class="stat-number" data-target="8">0</span><span class="stat-suffix">+</span></div><span class="stat-label">Years Experience</span></div>
  <div class="stat-divider"></div>
  <div class="stat-item"><div class="stat-top"><span class="stat-number" data-target="99">0</span><span class="stat-suffix">%</span></div><span class="stat-label">On-Time Delivery</span></div>
  <div class="stat-divider"></div>
  <div class="stat-item"><div class="stat-top"><span class="stat-number" data-target="50">0</span><span class="stat-suffix">+</span></div><span class="stat-label">Cities Covered</span></div>
</section>

<!-- MARQUEE -->
<div class="marquee-wrap">
  <div class="marquee-track">
    <span>âœ” Licensed &amp; Insured</span><span class="dot">â—†</span><span>âœ” Experienced Team</span><span class="dot">â—†</span>
    <span>âœ” Safe Packing</span><span class="dot">â—†</span><span>âœ” On-Time Delivery</span><span class="dot">â—†</span>
    <span>âœ” GPS Tracked Vehicles</span><span class="dot">â—†</span><span>âœ” Zero Damage Guarantee</span><span class="dot">â—†</span>
    <span>âœ” Licensed &amp; Insured</span><span class="dot">â—†</span><span>âœ” Experienced Team</span><span class="dot">â—†</span>
    <span>âœ” Safe Packing</span><span class="dot">â—†</span><span>âœ” On-Time Delivery</span><span class="dot">â—†</span>
    <span>âœ” GPS Tracked Vehicles</span><span class="dot">â—†</span><span>âœ” Zero Damage Guarantee</span><span class="dot">â—†</span>
  </div>
</div>

<!-- REVIEWS SECTION -->
<section class="reviews-section" id="reviews">
  <div class="section-header reveal">
    <div class="section-tag">Customer Love</div>
    <h2>What Our Customers Say</h2>
    <p>Trusted by 1,200+ families across Bangalore.</p>
  </div>
  <div class="overall-rating">
    <div class="or-score">4.9</div>
    <div><div class="or-stars">â˜…â˜…â˜…â˜…â˜…</div><div class="or-label" id="reviewCountLabel">Based on 0 reviews</div></div>
  </div>
  <div class="reviews-grid reveal-stagger" id="reviewsGrid">
    <!-- Static seed reviews -->
    <div class="review-card"><div class="review-stars">â˜…â˜…â˜…â˜…â˜…</div><p class="review-text">"Absolutely amazing service! They packed everything carefully and delivered on time. Zero damage!"</p><div class="review-author"><div class="review-avatar">R</div><div><div class="review-name">Rahul Sharma</div><div class="review-meta">HSR Layout Â· 2 BHK Move</div></div></div></div>
    <div class="review-card"><div class="review-stars">â˜…â˜…â˜…â˜…â˜…</div><p class="review-text">"Used PackZen for office shifting. Minimal downtime, all IT equipment handled perfectly. Highly recommend!"</p><div class="review-author"><div class="review-avatar">P</div><div><div class="review-name">Priya Nair</div><div class="review-meta">Koramangala Â· Office Move</div></div></div></div>
    <div class="review-card"><div class="review-stars">â˜…â˜…â˜…â˜…â˜†</div><p class="review-text">"Good service overall. Driver was polite and careful. The GPS tracking feature is super helpful!"</p><div class="review-author"><div class="review-avatar">A</div><div><div class="review-name">Amit Verma</div><div class="review-meta">Whitefield Â· 1 BHK Move</div></div></div></div>
  </div>
  <div style="text-align:center;margin-top:28px;">
    <button class="btn-primary leave-review-btn" onclick="openReviewModal()">â­ Leave a Review</button>
  </div>
</section>

<!-- SERVICES -->
<section class="services-section" id="services">
  <div class="section-header reveal"><div class="section-tag">What We Offer</div><h2>Our Moving Services</h2><p>Professional, careful, and affordable â€” tailored to your needs.</p></div>
  <div class="services-grid reveal-stagger">
    <div class="service-card"><div class="sc-icon">ğŸ </div><h3>Home Relocation</h3><p>Safe & secure home shifting with full packing, loading and unpacking at destination.</p><div class="sc-badge">Most Popular</div></div>
    <div class="service-card"><div class="sc-icon">ğŸ¢</div><h3>Office Shifting</h3><p>Minimal downtime office relocation with IT equipment handling and furniture setup.</p></div>
    <div class="service-card"><div class="sc-icon">ğŸ“</div><h3>Local Shifting</h3><p>Fast & affordable within-Bangalore shifting. Same day delivery available.</p></div>
    <div class="service-card"><div class="sc-icon">ğŸ’ª</div><h3>Loading & Unloading</h3><p>Trained manpower for heavy furniture and appliance handling with care.</p></div>
  </div>
</section>

<!-- QUOTE -->
<section class="quote-section" id="quote">
  <div class="quote-wrapper">
    <div class="quote-left reveal">
      <div class="section-tag light">Free Estimate</div>
      <h2>Get Your Instant Moving Quote</h2>
      <p>4 simple steps. Transparent pricing. No hidden charges.</p>
      <ul class="quote-perks">
        <li><span class="perk-check">âœ”</span> Instant price estimate</li>
        <li><span class="perk-check">âœ”</span> No hidden charges</li>
        <li><span class="perk-check">âœ”</span> Book via WhatsApp</li>
        <li><span class="perk-check">âœ”</span> Free packing materials</li>
      </ul>
    </div>
    <div class="quote-right reveal">
      <div class="form-card">
        <div class="step-indicators">
          <div class="step-dot active" id="dot0">1</div><div class="step-line"></div>
          <div class="step-dot" id="dot1">2</div><div class="step-line"></div>
          <div class="step-dot" id="dot2">3</div><div class="step-line"></div>
          <div class="step-dot" id="dot3">4</div>
        </div>
        <div class="progress"><div id="progressBar"></div></div>

        <!-- STEP 1 -->
        <div class="form-step active">
          <div class="step-title">ğŸ“ Where are you moving?</div>
          <label class="field-label">Pickup Location</label>
          <input id="pickup" placeholder="Enter pickup address" class="field-input">
          <label class="toggle-row">
            <span>ğŸ“± Use my current location</span>
            <label class="toggle"><input type="checkbox" id="useCurrentLocation"><span class="slider"></span></label>
          </label>
          <label class="field-label">Drop Location</label>
          <input id="drop" placeholder="Enter drop address" class="field-input">
          <div id="map"></div>
          <div id="distanceInfo"></div>
          <button class="btn-next" onclick="nextStep()">Continue â†’</button>
        </div>

        <!-- STEP 2 -->
        <div class="form-step">
          <div class="step-title">ğŸ—“ï¸ When are you moving?</div>
          <div class="row">
            <div><label class="field-label">Date</label><input type="date" id="shiftDate" class="field-input"></div>
            <div><label class="field-label">Time</label><input type="time" id="shiftTime" class="field-input"></div>
          </div>
          <label class="field-label">House Type</label>
          <select id="house" class="field-input">
            <option value="">Select house size</option>
            <option value="0">1 RK</option>
            <option value="1200">1 BHK</option>
            <option value="2500">2 BHK</option>
            <option value="4000">3 BHK</option>
          </select>
          <label class="field-label">Vehicle Type</label>
          <select id="vehicle" class="field-input">
            <option value="">Select vehicle</option>
            <option value="25">Tata Ace (Small)</option>
            <option value="40">14 ft Truck (Medium)</option>
            <option value="50">17 ft Truck (Large)</option>
            <option value="60">22 ft Truck (XL)</option>
          </select>
          <div class="btn-row">
            <button class="btn-back" onclick="prevStep()">â† Back</button>
            <button class="btn-next" onclick="nextStep()">Continue â†’</button>
          </div>
        </div>

        <!-- STEP 3 -->
        <div class="form-step">
          <div class="step-title">ğŸ›‹ï¸ What are you moving?</div>
          <div class="furniture-grid">
            <label class="furniture-card"><input type="checkbox" id="sofaCheck"><div class="fc-body"><span class="fc-emoji">ğŸ›‹ï¸</span><span class="fc-name">Sofa</span><input type="number" id="sofaQty" value="1" min="1" class="fc-qty" onclick="event.stopPropagation()"></div></label>
            <label class="furniture-card"><input type="checkbox" id="bedCheck"><div class="fc-body"><span class="fc-emoji">ğŸ›ï¸</span><span class="fc-name">Bed</span><input type="number" id="bedQty" value="1" min="1" class="fc-qty" onclick="event.stopPropagation()"></div></label>
            <label class="furniture-card"><input type="checkbox" id="fridgeCheck"><div class="fc-body"><span class="fc-emoji">ğŸ§Š</span><span class="fc-name">Fridge</span></div></label>
            <label class="furniture-card"><input type="checkbox" id="wmCheck"><div class="fc-body"><span class="fc-emoji">ğŸ«§</span><span class="fc-name">Washing Machine</span></div></label>
          </div>
          <!-- BEFORE/AFTER PHOTO UPLOAD -->
          <div class="photo-upload-section">
            <label class="field-label">ğŸ“¸ Upload Item Photos (optional)</label>
            <div class="photo-upload-area" onclick="document.getElementById('itemPhotos').click()">
              <label class="photo-upload-label">
                <input type="file" id="itemPhotos" multiple accept="image/*" onchange="previewPhotos(this)">
                <span>Click to upload</span> photos of your items for reference
              </label>
            </div>
            <div class="photo-previews-row" id="photoPreviews"></div>
          </div>
          <div class="btn-row">
            <button class="btn-back" onclick="prevStep()">â† Back</button>
            <button class="btn-next" onclick="nextStep()">Continue â†’</button>
          </div>
        </div>

        <!-- STEP 4 -->
        <div class="form-step">
          <div class="step-title">ğŸ‰ Almost done!</div>
          <label class="field-label">Your Name</label>
          <input id="custName" placeholder="Enter your full name" class="field-input">
          <label class="field-label">Phone Number</label>
          <input id="custPhone" placeholder="Enter mobile number" class="field-input">

          <!-- PROMO CODE -->
          <label class="field-label">ğŸ·ï¸ Promo / Referral Code</label>
          <div class="promo-row">
            <input type="text" id="promoInput" class="promo-input" placeholder="ENTER CODE">
            <button class="btn-promo" onclick="applyPromoCode()">Apply</button>
          </div>
          <div class="promo-msg" id="promoMsg"></div>

          <div class="price-box">
            <div class="price-label">Your Estimated Price</div>
            <div class="price-amount"><span id="livePrice">â‚¹0</span></div>
            <div id="result" class="price-breakdown"></div>
            <div class="discount-row" id="discountRow" style="display:none;">ğŸ·ï¸ Promo discount: <strong id="discountAmt"></strong></div>
            <div class="advance-info">
              ğŸ’¡ Advance to pay now: <strong><span id="advanceAmount">â‚¹0</span></strong>
              <span class="advance-note">(10% of total â€” rest paid on moving day)</span>
            </div>
          </div>

          <!-- PAYMENT OPTIONS -->
          <label class="field-label">Choose Payment</label>
          <div class="payment-opts">
            <div class="payment-opt selected" id="optAdvance" onclick="selectPayment('advance')">
              <div class="po-label">Pay Advance</div>
              <div class="po-amount" id="optAdvanceAmt">â‚¹0</div>
              <div class="po-note">10% now, rest on day</div>
            </div>
            <div class="payment-opt" id="optFull" onclick="selectPayment('full')">
              <div class="po-label">Pay Full</div>
              <div class="po-amount" id="optFullAmt">â‚¹0</div>
              <div class="po-note">5% discount included</div>
            </div>
          </div>

          <div class="btn-row">
            <button class="btn-back" onclick="prevStep()">â† Back</button>
          </div>
          <button onclick="startPayment()" class="btn-pay">ğŸ’³ Pay &amp; Confirm Booking</button>
          <button onclick="bookOnWhatsApp()" class="btn-whatsapp-alt">ğŸ’¬ Book via WhatsApp Only</button>
          <button onclick="openChecklist()" class="btn-checklist">âœ… View Moving Checklist</button>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer-inner">
    <div class="footer-brand">
      <div class="footer-logo">ğŸ“¦ Pack<span>Zen</span></div>
      <p>Bangalore's trusted packers & movers since 2016. Safe, reliable, and affordable.</p>
    </div>
    <div class="footer-info">
      <div class="footer-detail">ğŸ“ HSR Layout, Bangalore</div>
      <div class="footer-detail">ğŸ“ <a href="tel:9945095453">9945095453</a></div>
      <div class="footer-detail">ğŸ’¬ <a href="https://wa.me/919945095453">WhatsApp Us</a></div>
    </div>
  </div>
  <div class="footer-bottom">Â© 2026 PackZen Packers & Movers. All rights reserved.</div>
</footer>

<a href="tel:9945095453" class="float-call">ğŸ“ Call</a>
<a href="https://wa.me/919945095453" class="float-wa" target="_blank">ğŸ’¬ WhatsApp</a>

<!-- ======================== MODALS ======================== -->

<!-- AUTH MODAL -->
<div id="authModal" class="modal-overlay" style="display:none;">
  <div class="modal-box auth-modal-box">
    <div class="auth-panel" id="panelLogin">
      <button class="modal-x" onclick="closeAuthModal()">âœ•</button>
      <div class="auth-logo">ğŸ“¦ PackZen</div>
      <h2 class="auth-title">Welcome Back</h2>
      <p class="auth-sub">Login to view your bookings & quotes</p>
      <label class="field-label">Email Address</label>
      <input id="loginEmail" type="email" placeholder="your@email.com" class="field-input">
      <label class="field-label">Password</label>
      <input id="loginPassword" type="password" placeholder="Enter password" class="field-input">
      <div id="loginError" class="auth-error"></div>
      <button class="btn-auth" onclick="loginUser()">Login â†’</button>
      <div class="auth-divider"><span>or</span></div>
      <button class="btn-auth-outline" onclick="switchPanel('panelSignup')">Create New Account</button>
      <p class="auth-link" onclick="switchPanel('panelRecover')">Forgot password? Recover Account</p>
    </div>
    <div class="auth-panel" id="panelSignup" style="display:none;">
      <button class="modal-x" onclick="closeAuthModal()">âœ•</button>
      <div class="auth-logo">ğŸ“¦ PackZen</div>
      <h2 class="auth-title">Create Account</h2>
      <p class="auth-sub">Sign up to save quotes & track bookings</p>
      <label class="field-label">Full Name</label><input id="signupName" type="text" placeholder="Your full name" class="field-input">
      <label class="field-label">Email Address</label><input id="signupEmail" type="email" placeholder="your@email.com" class="field-input">
      <label class="field-label">Phone Number</label>
      <div class="phone-row"><span class="phone-prefix">+91</span><input id="signupPhone" type="tel" placeholder="10-digit mobile" class="field-input phone-input" maxlength="10"></div>
      <label class="field-label">Password</label><input id="signupPassword" type="password" placeholder="Min 6 characters" class="field-input">
      <label class="field-label">Referral Code (optional)</label><input id="signupReferral" type="text" placeholder="Friend's referral code" class="field-input" style="text-transform:uppercase">
      <div id="recaptcha-container"></div>
      <div id="signupError" class="auth-error"></div>
      <button class="btn-auth" onclick="signupUser()">Send OTP & Register â†’</button>
      <p class="auth-link" onclick="switchPanel('panelLogin')">Already have an account? Login</p>
    </div>
    <div class="auth-panel" id="panelOTP" style="display:none;">
      <button class="modal-x" onclick="closeAuthModal()">âœ•</button>
      <div class="auth-logo">ğŸ“±</div>
      <h2 class="auth-title">Verify Your Phone</h2>
      <p class="auth-sub" id="otpSubText">Enter the 6-digit OTP sent to your number</p>
      <div class="otp-boxes">
        <input class="otp-box" type="tel" maxlength="1" oninput="otpInput(this,0)">
        <input class="otp-box" type="tel" maxlength="1" oninput="otpInput(this,1)">
        <input class="otp-box" type="tel" maxlength="1" oninput="otpInput(this,2)">
        <input class="otp-box" type="tel" maxlength="1" oninput="otpInput(this,3)">
        <input class="otp-box" type="tel" maxlength="1" oninput="otpInput(this,4)">
        <input class="otp-box" type="tel" maxlength="1" oninput="otpInput(this,5)">
      </div>
      <div id="otpError" class="auth-error"></div>
      <button class="btn-auth" onclick="verifyOTP()">Verify OTP â†’</button>
      <p class="auth-link" onclick="resendOTP()">Resend OTP</p>
    </div>
    <div class="auth-panel" id="panelRecover" style="display:none;">
      <button class="modal-x" onclick="closeAuthModal()">âœ•</button>
      <div class="auth-logo">ğŸ”‘</div>
      <h2 class="auth-title">Recover Account</h2>
      <p class="auth-sub">Enter your registered email. We'll send a password reset link.</p>
      <label class="field-label">Email Address</label><input id="recoverEmail" type="email" placeholder="your@email.com" class="field-input">
      <div id="recoverMsg" class="auth-error"></div>
      <button class="btn-auth" onclick="recoverAccount()">Send Reset Link â†’</button>
      <p class="auth-link" onclick="switchPanel('panelLogin')">â† Back to Login</p>
    </div>
  </div>
</div>

<!-- DASHBOARD MODAL -->
<div id="dashboardModal" class="modal-overlay" style="display:none;">
  <div class="modal-box dashboard-box">
    <button class="modal-x" onclick="closeDashboard()">âœ•</button>

    <div class="dashboard-header">
      <div class="dashboard-avatar" id="dashAvatar">U</div>
      <div>
        <div class="dashboard-name" id="dashName">User</div>
        <div class="dashboard-email" id="dashEmail">email@example.com</div>
      </div>
    </div>

    <div class="dash-tabs">
      <button class="dash-tab active" onclick="switchDashTab('quotes',this)">ğŸ“‹ Quotes</button>
      <button class="dash-tab" onclick="switchDashTab('bookings',this)">ğŸ“¦ Bookings</button>
      <button class="dash-tab" onclick="switchDashTab('referral',this)">ğŸ Referral</button>
      <button class="dash-tab" onclick="switchDashTab('profile',this)">ğŸ‘¤ Profile</button>
      <button class="dash-tab" id="adminTabBtn" style="display:none;" onclick="switchDashTab('admin',this)">ğŸ›  Admin</button>
    </div>

    <!-- QUOTES -->
    <div class="dash-content" id="dashQuotes">
      <div id="quotesList" class="quotes-list">
        <div class="dash-empty">No saved quotes yet.</div>
      </div>
    </div>

    <!-- BOOKINGS -->
    <div class="dash-content" id="dashBookings" style="display:none;">
      <div id="bookingsList" class="quotes-list">
        <div class="dash-empty">No bookings yet.</div>
      </div>
    </div>

    <!-- REFERRAL -->
    <div class="dash-content" id="dashReferral" style="display:none;">
      <div class="referral-box">
        <div class="referral-title">ğŸ Refer & Earn</div>
        <div class="referral-sub">
          Share your code. Your friend gets â‚¹500 off, you get â‚¹500 credit!
        </div>
        <div class="referral-code-row">
          <div class="referral-code-text" id="referralCodeText">LOADING</div>
          <button class="btn-copy" onclick="copyReferralCode()">Copy</button>
        </div>
        <div class="ref-stats">
          <div class="ref-stat">
            <div class="ref-stat-val" id="refCount">0</div>
            <div class="ref-stat-lbl">Referrals</div>
          </div>
          <div class="ref-stat">
            <div class="ref-stat-val" id="refEarned">â‚¹0</div>
            <div class="ref-stat-lbl">Credits Earned</div>
          </div>
          <div class="ref-stat">
            <div class="ref-stat-val" id="refAvailable">â‚¹0</div>
            <div class="ref-stat-lbl">Available</div>
          </div>
        </div>
      </div>
    </div>

    <!-- PROFILE -->
    <div class="dash-content" id="dashProfile" style="display:none;">
      <label class="field-label">Full Name</label>
      <input id="profileName" class="field-input" placeholder="Your name">

      <label class="field-label">Email</label>
      <input id="profileEmail" class="field-input" disabled>

      <label class="field-label">Phone</label>
      <input id="profilePhone" class="field-input" disabled>

      <div class="notif-row">
        <span>ğŸ“§ Email updates</span>
        <label class="toggle">
          <input type="checkbox" id="prefEmail" onchange="savePreferences()">
          <span class="slider"></span>
        </label>
      </div>

      <div class="notif-row">
        <span>ğŸ“± SMS updates</span>
        <label class="toggle">
          <input type="checkbox" id="prefSMS" onchange="savePreferences()">
          <span class="slider"></span>
        </label>
      </div>

      <button class="btn-auth" onclick="saveProfile()" style="margin-top:16px;">
        Save Profile
      </button>

      <div id="profileMsg" class="auth-error" style="margin-top:8px;"></div>
    </div>

    <!-- ğŸ›  ADMIN PANEL -->
    <div class="dash-content" id="dashAdmin" style="display:none;">
      <h3 style="margin-bottom:16px;">ğŸšš Create New Driver</h3>

      <label class="field-label">Driver Name</label>
      <input id="newDriverName" class="field-input" placeholder="Driver full name">

      <label class="field-label">Driver Email</label>
      <input id="newDriverEmail" type="email" class="field-input" placeholder="driver@email.com">

      <label class="field-label">Driver Password</label>
      <input id="newDriverPassword" type="password" class="field-input" placeholder="Strong password">

      <div id="adminMsg" class="auth-error" style="margin-top:10px;"></div>

      <button class="btn-auth" style="margin-top:14px;" onclick="createDriver()">
        Create Driver â†’
      </button>
    </div>

  </div>
</div>

<!-- TRACKING MODAL -->
<div id="trackingModal" class="modal-overlay" style="display:none;">
  <div class="modal-box tracking-box">
    <button class="modal-x" onclick="closeTrackingModal()">âœ•</button>
    <div class="tracking-header">
      <div style="font-family:'Syne',sans-serif;font-size:1.2rem;font-weight:800;color:var(--text);">ğŸ“ Track My Move</div>
      <div class="tracking-id" id="trackingBookingId">Booking #---</div>
    </div>
    <div class="tracking-status-bar">
      <div class="ts-step"><div class="ts-dot done" id="ts0">âœ“</div><div class="ts-label">Booked</div></div>
      <div class="ts-step"><div class="ts-dot" id="ts1">ğŸš›</div><div class="ts-label">Assigned</div></div>
      <div class="ts-step"><div class="ts-dot" id="ts2">ğŸ“¦</div><div class="ts-label">Packing</div></div>
      <div class="ts-step"><div class="ts-dot" id="ts3">ğŸšš</div><div class="ts-label">Transit</div></div>
      <div class="ts-step"><div class="ts-dot" id="ts4">ğŸ‰</div><div class="ts-label">Delivered</div></div>
    </div>
    <div class="tracking-map-area" id="trackingMapDiv"><span>ğŸ“ Driver location appears here once assigned</span></div>
    <div class="tracking-info">
      <div class="ti-row"><span class="ti-lbl">Status</span><span class="ti-val" id="trackStatus">Confirmed</span></div>
      <div class="ti-row"><span class="ti-lbl">Driver</span><span class="ti-val" id="trackDriver">Not yet assigned</span></div>
      <div class="ti-row"><span class="ti-lbl">Driver Phone</span><span class="ti-val" id="trackDriverPhone">â€”</span></div>
      <div class="ti-row"><span class="ti-lbl">Moving Date</span><span class="ti-val" id="trackDate">â€”</span></div>
      <div class="ti-row"><span class="ti-lbl">Pickup</span><span class="ti-val" id="trackPickup">â€”</span></div>
      <div class="ti-row"><span class="ti-lbl">Drop</span><span class="ti-val" id="trackDrop">â€”</span></div>
    </div>
    <button class="btn-open-chat" onclick="closeTrackingModal();openChatModal()">ğŸ’¬ Chat with Driver</button>
  </div>
</div>

<!-- CHAT MODAL -->
<div id="chatModal" class="modal-overlay" style="display:none;">
  <div class="modal-box chat-box">
    <button class="modal-x" style="color:rgba(255,255,255,.8);top:14px;right:14px;" onclick="closeChatModal()">âœ•</button>
    <div class="chat-header">
      <div class="chat-drv-avatar" id="chatDrvAvatar">R</div>
      <div><div class="chat-hdr-title" id="chatDrvName">Driver</div><div class="chat-hdr-sub" id="chatDrvStatus">PackZen Support</div></div>
    </div>
    <div class="chat-messages" id="chatMessages"><div class="chat-empty-msg">No messages yet. Say hello! ğŸ‘‹</div></div>
    <div class="chat-input-row">
      <input type="text" class="chat-text-input" id="chatInput" placeholder="Type a message..." onkeydown="if(event.key==='Enter')sendChatMessage()">
      <button class="btn-send" onclick="sendChatMessage()">Send</button>
    </div>
  </div>
</div>

<!-- CHECKLIST MODAL -->
<div id="checklistModal" class="modal-overlay" style="display:none;">
  <div class="modal-box checklist-box">
    <button class="modal-x" onclick="closeChecklist()">âœ•</button>
    <div class="modal-icon">âœ…</div>
    <h2 class="modal-title">Moving Checklist</h2>
    <div class="cl-progress"><div class="cl-progress-bar" id="clProgressBar" style="width:0%"></div></div>
    <div class="cl-score">Completed: <strong id="clScore">0 / 0</strong> tasks</div>
    <div id="checklistContent"></div>
  </div>
</div>

<!-- REVIEW MODAL -->
<div id="reviewModal" class="modal-overlay" style="display:none;">
  <div class="modal-box review-modal-box">
    <button class="modal-x" onclick="closeReviewModal()">âœ•</button>
    <div class="modal-icon">â­</div>
    <h2 class="modal-title">Leave a Review</h2>
    <p class="modal-sub">How was your PackZen experience?</p>
    <div class="star-row" id="starRow">
      <button class="star-btn" onclick="setRating(1)">â˜…</button>
      <button class="star-btn" onclick="setRating(2)">â˜…</button>
      <button class="star-btn" onclick="setRating(3)">â˜…</button>
      <button class="star-btn" onclick="setRating(4)">â˜…</button>
      <button class="star-btn" onclick="setRating(5)">â˜…</button>
    </div>
    <label class="field-label">Your Review</label>
    <textarea id="reviewText" class="field-input" rows="4" placeholder="Tell us about your experience..." style="resize:vertical"></textarea>
    <label class="field-label">Your Name</label>
    <input id="reviewName" class="field-input" placeholder="Your name">
    <div id="reviewMsg" class="auth-error" style="margin-top:10px;"></div>
    <button class="btn-auth" onclick="submitReview()" style="margin-top:12px;">Submit Review â†’</button>
  </div>
</div>

<!-- PAYMENT SUCCESS MODAL -->
<div id="paymentModal" class="modal-overlay" style="display:none;">
  <div class="modal-box">
    <div class="modal-icon">ğŸ‰</div>
    <h2 class="modal-title">Booking Confirmed!</h2>
    <p class="modal-sub">Your payment was successful. We'll contact you shortly.</p>
    <div class="modal-detail" id="modalDetail"></div>
    <button class="btn-invoice" onclick="downloadInvoice()">ğŸ“„ Download GST Invoice</button>
    <button class="modal-wa-btn" onclick="sendWhatsAppAfterPayment()">ğŸ’¬ Get Confirmation on WhatsApp</button>
    <button class="modal-close" onclick="closeModal()">Close</button>
  </div>
</div>

<!-- SCRIPTS -->
<script src="firebase-config.js"></script>
<script src="script.js"></script>
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDEtUY1wAyK2PSPgtsxzp7KbYoBfqqWALo&libraries=places&callback=initAutocomplete"></script>
</body>
</html>
