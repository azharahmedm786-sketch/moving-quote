<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Packers & Movers Booking</title>

<style>
body { font-family: Arial; padding:20px; }
input, select, button {
  width:100%;
  padding:10px;
  margin:8px 0;
}
#map {
  height:400px;
  width:100%;
  margin-top:10px;
}
.result {
  font-size:18px;
  font-weight:bold;
  margin-top:10px;
}
</style>
</head>

<body>

<h2>Book Your Move</h2>

<input id="pickup" placeholder="Pickup location">
<input id="drop" placeholder="Drop location">

<select id="vehicle">
  <option value="25">Mini Truck - ₹25/km</option>
  <option value="35">Medium Truck - ₹35/km</option>
  <option value="45">Large Truck - ₹45/km</option>
</select>

<button onclick="calculate()">Calculate Price</button>

<div class="result" id="result"></div>
<div id="map"></div>

<script>
let map, directionsService, directionsRenderer;

function initMap() {
  map = new google.maps.Map(document.getElementById("map"), {
    center: { lat: 12.9716, lng: 77.5946 },
    zoom: 10,
  });

  directionsService = new google.maps.DirectionsService();
  directionsRenderer = new google.maps.DirectionsRenderer();
  directionsRenderer.setMap(map);

  new google.maps.places.Autocomplete(
    document.getElementById("pickup")
  );
  new google.maps.places.Autocomplete(
    document.getElementById("drop")
  );
}

function calculate() {
  const pickup = document.getElementById("pickup").value;
  const drop = document.getElementById("drop").value;
  const rate = document.getElementById("vehicle").value;

  if (!pickup || !drop) {
    alert("Enter both locations");
    return;
  }

  const request = {
    origin: pickup,
    destination: drop,
    travelMode: "DRIVING",
  };

  directionsService.route(request, function(result, status) {
    if (status === "OK") {
      directionsRenderer.setDirections(result);

      const distanceMeters =
        result.routes[0].legs[0].distance.value;

      const distanceKm = distanceMeters / 1000;
      const price = Math.round(distanceKm * rate);

      document.getElementById("result").innerHTML =
        "Distance: " + distanceKm.toFixed(1) +
        " km<br>Estimated Price: ₹" + price;
    } else {
      alert("Route not found");
    }
  });
}
</script>

<script async
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCdYIaoNUMxf0uWuHmWk_Nu2RcuYSsMuAY&libraries=places&callback=initMap">
</script>

</body>
</html>
